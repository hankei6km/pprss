<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=no">
    <title>feeds holder</title>
    <script src="../bower_components/webcomponentsjs/webcomponents.min.js"></script>

    <style>
      body {
        margin: 0px;
        overflow: hidden;
      }
    </style>

    <link rel="import" href="../bower_components/core-scaffold/core-scaffold.html">
    <link rel="import" href="../bower_components/core-item/core-item.html">
    <link rel="import" href="../bower_components/core-menu/core-menu.html">
    <link rel="import" href="../bower_components/core-menu/core-submenu.html">
    <link rel="import" href="../bower_components/core-collapse/core-collapse.html">
    <link rel="import" href="../elements/x-pprss-feeds-holder.html">
    <link rel="import" href="../elements/x-pprss-feeds-subholder.html">
  </head>
  <body fullbleed unresolved>
    <template is="auto-binding" on-template-bound="{{handleTemplateBound}}">
      <core-scaffold>
        <core-header-panel navigation flex mode="seamed">
          <core-toolbar>Application</core-toolbar>
          <core-menu theme="core-light-theme" selected="0" itemsSelector="x-pprss-feeds-subholder">
            <x-pprss-feeds-subholder items="{{items1}}" on-select="{{handleItemSelect}}">
            </x-pprss-feeds-subholder>
            <x-pprss-feeds-subholder items="{{items2}}" on-select="{{handleItemSelect}}">
            </x-pprss-feeds-subholder>
            <x-pprss-feeds-subholder items="{{items3}}" on-select="{{handleItemSelect}}">
            </x-pprss-feeds-subholder>
          </core-menu>
        </core-header-panel>
        <div tool>Title</div>
        <div>Main content goes here...</div>
      </core-scaffold>
    </template>

    <script>
      var template = document.querySelector('template[is=auto-binding]');
      template.feeds = new Array(100);
      //(function(){
      //  for(var i=0; i<100; i++){
      //    template.feeds[i] = {
      //      title: 'test' + i
      //    }
      //  }
      //})();
      template.items1 = [
        {
          title: 'cat1',
          uid: 'cat1'
        },{
          title: 'feed 1-1',
          uid: 'feed:1-1'
        },{
          title: 'feed 1-2',
          uid: 'feed:1-2'
        },{
          title: 'feed 1-3',
          uid: 'feed:1-3'
        }
      ]
      template.items2 = [
        {
          title: 'cat2',
          uid: 'cat2'
        },{
          title: 'feed 2-1',
          uid: 'feed:2-1'
        },{
          title: 'feed 2-2',
          uid: 'feed:2-2'
        },{
          title: 'feed 2-3',
          uid: 'feed:2-3'
        }
      ]
      template.items3 = [
        {
          title: 'cat3',
          uid: 'cat3'
        },{
          title: 'feed 3-1',
          uid: 'feed:3-1'
        },{
          title: 'feed 3-2',
          uid: 'feed:3-2'
        },{
          title: 'feed 3-3',
          uid: 'feed:3-3'
        }
      ]
      template.handletap = function(e){
        template.$.sub1.toggle();
      }
      template.handleItemSelect = function(e){
        console.log(e.detail.item);
      }
    </script>
  </body>
</html>
